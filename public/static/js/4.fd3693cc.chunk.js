(window["webpackJsonpwzq-front"]=window["webpackJsonpwzq-front"]||[]).push([[4],{46:function(e,a,t){e.exports={label:"Input_label__2y04V",input:"Input_input__OVELj"}},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(67),l=t(46),o=t.n(l),i=function(e){var a=e.value,t=void 0===a?"":a,n=e.type,s=void 0===n?"text":n,l=e.label,i=void 0===l?"":l,c=e.labelWidth,u=void 0===c?80:c,d=e.labelPosition,h=void 0===d?"left":d,p=e.onChange,m=function(e){p&&p(e.target.value)};return i?r.a.createElement("div",null,r.a.createElement("span",{className:o.a.label,style:{width:u+"px",textAlign:h}},i),r.a.createElement("input",{className:o.a.input,value:t,type:s,onChange:m})):r.a.createElement("input",{className:o.a.input,value:t,type:s,onChange:m})},c=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),d=u[0],h=u[1],p=e.onSubmit;return r.a.createElement("div",null,r.a.createElement(i,{value:l,label:"\u7528\u6237\u540d\uff1a",labelWidth:100,labelPosition:"right",onChange:o}),r.a.createElement(i,{value:d,type:"password",labelWidth:100,labelPosition:"right",label:"\u5bc6\u7801\uff1a",onChange:h}),r.a.createElement("button",{onClick:function(){p&&p({username:l,password:d})}},"\u767b\u9646"))},u=t(13),d=t(14),h=t(17),p=t(15),m=t(18),b=t(47),g=t.n(b).a.create();g.interceptors.response.use(function(e){var a=e.data;return console.log(a),a.success&&1===a.success?e:Promise.reject(new Error(a.msg))},function(e){return Promise.reject(e)});var v=g,f=function(e){return v.get("/api/userexist/"+e.username)},w=t(65),E=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(h.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",password:"",repassword:"",usernameValid:!1},t.handleUsernameChange=function(e){t.setState({username:e}),t.checkUsernameValid(e)},t.handlePasswordChange=function(e){t.setState({password:e})},t.handleRepasswordChange=function(e){t.setState({repassword:e})},t.handleFormSubmit=function(){var e=t.props.onSubmit,a=t.state,n=a.username,r=a.password;e&&e({username:n,password:r})},t.checkUsernameValid=Object(w.debounce)(function(e){e?f({username:e}).then(function(){t.setState({usernameValid:!0})}).catch(function(e){console.log(e)}):t.setState({usernameValid:!1})},500),t.checkPasswordValid=function(){var e=t.state,a=e.password,n=e.repassword;return a.length>=6&&a===n},t}return Object(m.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.state,a=e.username,t=e.password,n=e.repassword,s=e.usernameValid,l=this.checkPasswordValid();return r.a.createElement("div",null,r.a.createElement(i,{value:a,label:"\u7528\u6237\u540d\uff1a",labelWidth:100,labelPosition:"right",onChange:this.handleUsernameChange}),r.a.createElement("span",{style:{color:"green"}},s?"\u53ef\u4ee5\u4f7f\u7528":""),r.a.createElement(i,{value:t,type:"password",labelWidth:100,labelPosition:"right",label:"\u5bc6\u7801\uff1a",onChange:this.handlePasswordChange}),r.a.createElement(i,{value:n,type:"password",labelWidth:100,labelPosition:"right",label:"\u5bc6\u7801\uff1a",onChange:this.handleRepasswordChange}),r.a.createElement("button",{disabled:!(s&&l),onClick:this.handleFormSubmit},"\u6ce8\u518c"))}}]),a}(n.Component);a.default=function(){return r.a.createElement("div",null,r.a.createElement(c,{onSubmit:function(e){var a;(a=e,v.post("/api/login",a)).then(function(e){var a=e.data.data;console.log(a)}).catch(function(e){console.log(e)})}}),r.a.createElement(E,{onSubmit:function(e){var a;(a=e,v.post("/api/register",a)).then(function(e){var a=e.data.data;console.log(a)}).catch(function(e){console.log(e)})}}))}}}]);
//# sourceMappingURL=4.fd3693cc.chunk.js.map